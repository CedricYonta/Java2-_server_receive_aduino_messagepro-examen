<!DOCTYPE html>
<html>
<head>
  <title>Dernier enregistrement de la table</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-YJXZfD60eBtIy1CBYYTdShWJyHIm5SVzr5+5r5PYdd0X9ct0dmF+awdHiJl/rDluDEyFXnd3hCQ2ewzFZ+sAQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>

     #table-container {
      height: 60vh;
      display: flex;
      align-items: center;
    }

    /* Ajouter du style pour centrer le tableau */
    #mytable {
      margin: auto;
      width: 50%;
      text-align: center;
      border-collapse: collapse;
      border-spacing: 0;
    }
    
    /* Ajouter une icône FontAwesome pour la deuxième colonne */
    #mytable th:nth-child(2) {
      font-size: 24px;
      color: #1e90ff;
    }
    
    /* Ajouter des bordures pour les cellules et les en-têtes */
    #mytable td, #mytable th {
      border: 1px solid #ddd;
      padding: 8px;
    }
    
    /* Ajouter des styles pour les bordures des en-têtes */
    #mytable th {
      border-top: 2px solid #ddd;
      border-bottom: 2px solid #ddd;
    }
    
    /* Ajouter des styles pour les bordures du tableau */
    #mytable {
      border-left: 2px solid #ddd;
      border-right: 2px solid #ddd;
    }
  </style>

</head>
<body>
    <div id="table-container">
  <table id="mytable">
    <thead>
      <tr>
        <th>Column1</th>
        <th>Column2</th>
        
      </tr>
    </thead>
    <tbody>
    </tbody>
  </table>
</div>

<div ><i class="fa-solid fa-wave-pulse"></i></div>

  <script>
    $(document).ready(function() {
      updateData();
    });

    function updateData() {
      $.ajax({
        url: 'get_latest_record.php', // chemin vers le script PHP qui récupère le dernier enregistrement
        method: 'GET',
        dataType: 'json', // le script PHP renvoie les données au format JSON
        success: function(data) {
          // Vider le contenu du tableau
          $('#mytable tbody').empty();

          // Ajouter une nouvelle ligne au tableau avec les données récupérées
          var row = $('<tr>');
          row.append($('<td>').text(data.column1));
          row.append($('<td>').text(data.column2));
          $('#mytable tbody').append(row);
        },
        complete: function() {
          // Répéter l'opération toutes les secondes
          setTimeout(updateData, 1000);
        }
      });
    }
  </script>
</body>
</html>
