import java.io.IOException;
import java.io.OutputStream;
import java.net.InetSocketAddress;
import java.util.HashMap;
import java.util.Map;

import com.sun.net.httpserver.HttpExchange;
import com.sun.net.httpserver.HttpHandler;
import com.sun.net.httpserver.HttpServer;

public class Main {
  public static void main(String[] args) throws Exception {
    int port = 8080; // le port sur lequel le serveur écoute les connexions

    HttpServer server = HttpServer.create(new InetSocketAddress(port), 0);
    server.createContext("/", new MyHandler());
    server.setExecutor(null); // Créer un thread pour chaque requête reçue

    // Démarrer le serveur
    server.start();
    System.out.println("Serveur démarré sur le port " + port);
  }

  static class MyHandler implements HttpHandler {
    @Override
    public void handle(HttpExchange exchange) throws IOException {
      // Récupérer les données envoyées par le client (dans ce cas, l'Arduino)
      String requestBody = new String(exchange.getRequestBody().readAllBytes());

      // Créer une réponse HTTP avec une page HTML affichant les données reçues
      String response = "<html><body><h1>Données reçues :</h1><p>" + requestBody + "</p></body></html>";
      Map<String, String> headers = new HashMap<>();
      headers.put("Content-Type", "text/html");
      exchange.sendResponseHeaders(200, response.length());
      headers.forEach((key, value) -> exchange.getResponseHeaders().set(key, value));
      OutputStream os = exchange.getResponseBody();
      os.write(response.getBytes());
      os.close();
    }
  }
}


Ce code crée un serveur HTTP sur le port 8080, et utilise la classe HttpServerpour gérer les requêtes entrantes. Lorsqu'un client se connecte au serveur et envoie des données, le contenu de la requête HTTP est récupéré et affiché dans une page HTML renvoyée en réponse.

Le code utilise la classe HttpExchangepour gérer l'échange HTTP entre le client et le serveur, et la méthode getRequestBody()pour récupérer les données envoyées par le client.

Notez que pour que ce code fonctionne, vous devez avoir les bibliothèques com.sun.net.httpserveret com.sun.net.httpserver.spidans votre projet Java.